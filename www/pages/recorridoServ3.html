<template>
    <div class="page">
        <div class="navbar" style="background-color: #063E7F;height: 52px;">
            <div style="text-align: center;"><img src="img/logo-FWM.png" style="margin-top: 5px;" height="41.38px" alt="Logo Field"></div>
            <div class="navbar-inner" style="height: 52px;">
                <div class="left">
                    <a href="javascript:location.reload()" class="link back" style="margin-left: 5px;">
                        <span class="nav-text-regresar-recorrido">Regresar</span>
                    </a>
                </div>
            </div>
        </div>
  
        <div class="page-content" style="background-color: #f6f7f9; ">
            <div style="text-align: center; justify-content:center; margin-right:auto; margin-left:auto; width: 99%;">
                <input type="hidden" id="resp1" name="resp1" />
                <div style="text-align: left;">        
                    <div class="item-inner">
                        <div class="block-title" style="text-align: center; font-size: 20px;"><h2 style="color:#505759;font-size: 22px;font-family: 'ITC Avant Garde Gothic', sans-serif;">Rational</h2></div>
                    </div>
                </div>
                    <div class="buttons-container" style="display: flex;">
                        <a href="/datosgeneralesServ3/" class="fwm-button-recorrido">
                            <img src="img/iconsMenu/persona2.svg" width="90px" height="90px" id="img1"/>
                            <span class="fwm-text-recorrido">Datos Generales</span>
                        </a>
                        <a href="/formServ20/" class="fwm-button-recorrido">
                            <img src="img/iconsMenu/diagnostico.svg" width="90px" height="90px" id="img2"/>
                            <span class="fwm-text-recorrido">Diagnostico</span>
                        </a>
                    </div>
                    <div class="buttons-container" style="display: flex;margin-top: 5%;">
                        <a href="/formServ21/" class="fwm-button-recorrido">
                            <img src="img/iconsMenu/equifina.svg" width="90px" height="90px" id="img3"/>
                            <span class="fwm-text-recorrido">Revisión de suministros mecánicos</span>
                        </a>
                        <a href="/formServ22/" class="fwm-button-recorrido">
                            <img src="img/iconsMenu/cotizacion.svg" width="90px" height="90px" id="img4"/>
                            <span class="fwm-text-recorrido">Revisión de Elementos Eléctricos</span>
                        </a>
                    </div>
                    <div class="buttons-container" style="display: flex;margin-top: 5%;">
                        <a href="/formServ23/" class="fwm-button-recorrido">
                            <img src="img/iconsMenu/acta-baja.svg" width="90px" height="90px" id="img3"/>
                            <span class="fwm-text-recorrido">Revisión de Tarjetas Electrónicas</span>
                        </a>
                        <a href="/formServ24/" class="fwm-button-recorrido">
                            <img src="img/iconsMenu/antes.svg" width="90px" height="90px" id="img4"/>
                            <span class="fwm-text-recorrido">Revisión Condiciones de Empaques</span>
                        </a>
                    </div>
                    <div class="buttons-container" style="display: flex;margin-top: 5%;">
                        <a href="/formServ25/" class="fwm-button-recorrido">
                            <img src="img/iconsMenu/checklist.svg" width="90px" height="90px" id="img4"/>
                            <span class="fwm-text-recorrido">Revisión y Condiciones de Sensores de Proceso</span>
                        </a>
                        <a href="/formServ26/" class="fwm-button-recorrido">
                            <img src="img/iconsMenu/despues.svg" width="90px" height="90px" id="img3"/>
                            <span class="fwm-text-recorrido">Revisión de Sistemas de Termostato de Seguridad</span>
                        </a>
                    </div>
                    <div class="buttons-container" style="display: flex;margin-top: 5%; margin-bottom: 40px;">
                        <a href="/formServ27/" class="fwm-button-recorrido">
                            <img src="img/iconsMenu/documento.svg" width="90px" height="90px" id="img4"/>
                            <span class="fwm-text-recorrido">Revisión y Condicioes de Mangueras</span>
                        </a>
                        <a href="/formServ28/" class="fwm-button-recorrido">
                            <img src="img/iconsMenu/antessani2.svg" width="90px" height="90px" id="img5"/>
                            <span class="fwm-text-recorrido">Revisión de Ciclos de Lavado</span>
                        </a>
                    </div>
                    <div class="buttons-container" style="display: flex;margin-top: 5%; margin-bottom: 40px;">
                        <a href="/formServ29/" class="fwm-button-recorrido">
                            <img src="img/iconsMenu/auditoria_lider.svg" width="90px" height="90px" id="img4"/>
                            <span class="fwm-text-recorrido">Otras Revisiones</span>
                        </a>
                        <a href="/formServ30/" class="fwm-button-recorrido">
                            <img src="img/iconsMenu/auditoria_tecnico.svg" width="90px" height="90px" id="img5"/>
                            <span class="fwm-text-recorrido">Revisión de Sistema de Gas</span>
                        </a>
                    </div>
                    <div class="buttons-container" style="display: flex;margin-top: 5%; margin-bottom: 40px;">
                        <a href="/formServ31/" class="fwm-button-recorrido">
                            <img src="img/iconsMenu/compras.svg" width="90px" height="90px" id="img5"/>
                            <span class="fwm-text-recorrido">Entrega de Servicio</span>
                        </a>
                        <a href="/formServ32/" class="fwm-button-recorrido">
                            <img src="img/iconsMenu/coche.svg" width="90px" height="90px" id="img5"/>
                            <span class="fwm-text-recorrido">Papeleta</span>
                        </a>
                    </div>
                    <div class="buttons-container" style="display: flex;margin-top: 5%; margin-bottom: 40px;">
                        <a href="/cierreServInd3/" class="fwm-button-recorrido">
                            <img src="img/iconsMenu/estrellas.svg" width="90px" height="90px" id="img5"/>
                            <span class="fwm-text-recorrido">Evaluación y cierre</span>
                        </a>
                    </div>

                <!-- Inicio FWM Recorrido -->
                    <div id="FWM-Menu" class="container-items" style="width: 100%;"></div>
                <!-- Fin FWM Recorrido -->
                <fwm></fwm>
            </div> 
        </div>
    </div>
  </template>
           
  <script>
    return {
        on: {      
              pageInit: function () {
                  var id_cedula = localStorage.getItem("IdCedula");
                  databaseHandler.db.transaction(
                      function(tx){
                          tx.executeSql("SELECT * from reporteGeneral WHERE id_cedula = ? AND (nombre_cliente IS NOT NULL AND orden_servicio IS NOT NULL AND sucursal IS NOT NULL AND folio_interno IS NOT NULL AND direccion IS NOT NULL AND telefono IS NOT NULL AND correo IS NOT NULL AND equipo IS NOT NULL AND marca IS NOT NULL AND modelo IS NOT NULL AND serie IS NOT NULL AND ciudad IS NOT NULL AND tipo_servicio IS NOT NULL)",
                              [id_cedula],
                              function(tx, results){
                                  var item = results.rows.item(0);
                                  if(item.id_cedula > 0){
                                      document.getElementById("img1").src="img/iconsMenu/persona.svg";
                                  }
                              },
                              function(tx, error){
                              }
                          );
                      },
                      function(error){},
                      function(){}
                  );
                  databaseHandler.db.transaction(
                      function(tx){
                          tx.executeSql("SELECT * from reporteGeneral WHERE id_cedula = ? AND (voltaje IS NOT NULL AND razon_servicio IS NOT NULL)",
                              [id_cedula],
                              function(tx, results){
                                  var item = results.rows.item(0);
                                  if(item.id_cedula > 0){
                                      document.getElementById("img2").src="img/iconsMenu/diagnostico2.svg";
                                  }
                              },
                              function(tx, error){
                              }
                          );
                      },
                      function(error){},
                      function(){}
                  );
                  databaseHandler.db.transaction(
                      function(tx){
                          tx.executeSql("SELECT * from reporteGeneral WHERE id_cedula = ? AND (equipo_entrego IS NOT NULL AND horas_activas IS NOT NULL)",
                              [id_cedula],
                              function(tx, results){
                                  var item = results.rows.item(0);
                                  if(item.id_cedula > 0){
                                      document.getElementById("img3").src="img/iconsMenu/equifina2.svg";
                                  }
                              },
                              function(tx, error){
                              }
                          );
                      },
                      function(error){},
                      function(){}
                  );
                  databaseHandler.db.transaction(
                      function(tx){
                          tx.executeSql("SELECT * from reporteGeneral WHERE id_cedula = ? AND (cotizacion IS NOT NULL AND viaticos IS NOT NULL AND refacciones IS NOT NULL)",
                              [id_cedula],
                              function(tx, results){
                                  var item = results.rows.item(0);
                                  if(item.id_cedula > 0){
                                      document.getElementById("img4").src="img/iconsMenu/cotizacion2.svg";
                                  }
                              },
                              function(tx, error){
                              }
                          );
                      },
                      function(error){},
                      function(){}
                  );
            }
        }
    }
  </script>